var SpaceBackground=function(){function t(t){if(null!==(this.options=t)){t||(t={}),(t={backgroundEl:t.backgroundEl||"sbg",nebulaEl:"sbg-"+(t.backgroundEl||"nebula"),nebulaData:t.nebulaData||[],starsEl:"sbg-"+(t.backgroundEl||"stars"),starsData:t.starsData||[],color1:t.color1||"rgba(0, 0, 175, 0.2)",color2:t.color2||"rgba(100, 0, 175, 0.2)",color3:t.color3||"rgba(77, 0, 0, 0.2)",backgroundColor:t.backgroundColor||"linear-gradient(to top, #01020e, #040920, #020413)",starColor:t.starColor||"white",maxCloudTransparency:t.maxCloudTransparency||20,maxStarSize:t.maxStarSize||10,numClouds:t.numClouds,numStars:t.numStars,debug:t.debug||!1}).numClouds||0==t.numClouds||(t.numClouds=25),t.numStars||0==t.numStars||(t.numStars=25),this.options=t;var a=document.getElementsByClassName(t.backgroundEl)[0];if(a){for(;a.firstChild;)a.removeChild(a.firstChild);this.addDiv(t.nebulaEl,t.backgroundEl),this.addDiv(t.starsEl,t.backgroundEl),this.addCss(this.getCss()),0===t.nebulaData.length&&(t.nebulaData=this.createRandomClouds()),this.createNebula(this.createNebulaGradients()),0===t.starsData.length&&(t.starsData=this.createRandomStars()),this.createStars(),t.debug&&console.log(t)}else console.error("background element not found")}}return t.prototype.addDiv=function(t,a){var o=document.createElement("div");o.classList.add(t),document.getElementsByClassName(a)[0].appendChild(o)},t.prototype.getCss=function(){return"."+this.options.backgroundEl+", .sbg-nebula, .sbg-stars { position: absolute; top: 0; left: 0; height: 100%; width: 100%; z-index: -1 } ."+this.options.backgroundEl+" { background: "+(this.options.backgroundColor||"transparent")+"; } .nebula-star { position: absolute; border-radius: 50%; } "},t.prototype.addCss=function(t){if(t){var a=document.getElementsByTagName("head")[0],o=document.createElement("style");o.setAttribute("type","text/css"),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t)),a.appendChild(o)}},t.prototype.createRandomClouds=function(){for(var t=[],a=0;a<this.options.numClouds;a++){var o=a<2?this.options.color3:Math.ceil(2*Math.random())<2?this.options.color1:this.options.color2;t.push({xPos:Math.round(100*Math.random()),yPos:Math.round(100*Math.random()),transparency:Math.round(Math.random()*this.options.maxCloudTransparency),color:o})}return t},t.prototype.createRandomStars=function(){for(var t=[],a=0;a<this.options.numStars;a++)t.push({xPos:Math.round(98*Math.random()),yPos:Math.round(98*Math.random()),size:Math.round(Math.random()*this.options.maxStarSize),opacity:Math.round(100*Math.random())});return t},t.prototype.createNebulaGradients=function(){return this.options.nebulaData&&0!==this.options.nebulaData.length&&this.options.nebulaData.map(function(t){return"radial-gradient(circle at "+t.xPos+"% "+t.yPos+"%, "+t.color+" 0%, transparent "+t.transparency+"%)"}).join(", ")||""},t.prototype.createNebula=function(t){t&&document.getElementsByClassName(this.options.nebulaEl)[0].setAttribute("style","position:absolute;left:0;top:0;height:100%;width:100%;background-image:"+t)},t.prototype.createStars=function(){var o=this;if(this.options.starsData&&0!==this.options.starsData.length){var e=document.createDocumentFragment();this.options.starsData.forEach(function(t){var a=document.createElement("div");a.classList.add("nebula-star"),a.style.left=t.xPos+"%",a.style.top=t.yPos+"%",a.style.width=t.size+"px",a.style.height=t.size+"px",a.style.opacity=""+t.opacity,a.style.backgroundImage="radial-gradient(circle at 50% 50%, "+o.options.starColor+" 0%, transparent 85%)",e.appendChild(a)}),document.getElementsByClassName(this.options.starsEl)[0].appendChild(e)}},t}();